<div>
  <div class="submit-form">
    <div class="d-flex justify-content-end">
      <a
        class="btn btn-primary mb-3 bg-dark border-dark"
        routerLink="/products"
      >
        Back
      </a>
    </div>
    <form [formGroup]="productForm" (ngSubmit)="saveProduct()">
      <div class="form-box" *ngIf="!submitted">
        <div class="form-group">
          <label for="productName">Product Name</label>
          <input
            matInput
            formControlName="productName"
            required
            type="text"
            class="form-control"
            id="productName"
            name="productName"
          />
          <mat-error
            *ngIf="
              productForm.get('productName')?.invalid &&
              productForm.get('productName')?.touched
            "
          >
            Productname is required.
          </mat-error>
        </div>

        <div class="form-group">
          <label for="productDescription">Product Description</label>
          <input
            matInput
            formControlName="productDescription"
            required
            class="form-control"
            id="productDescription"
            name="productDescription"
          />
          <mat-error
            *ngIf="
              productForm.get('productDescription')?.invalid &&
              productForm.get('productDescription')?.touched
            "
          >
            product Description is required.
          </mat-error>
        </div>
        <div class="form-group">
          <label for="productPrice">Product Price</label>
          <input
            matInput
            formControlName="productPrice"
            required
            class="form-control"
            id="productPrice"
            name="productPrice"
          />
          <mat-error
            *ngIf="
              productForm.get('productPrice')?.invalid &&
              productForm.get('productPrice')?.touched
            "
          >
            Product price is required.
          </mat-error>
        </div>
        <div class="form-group">
          <label for="productStock">Product Quantity</label>
          <input
            matInput
            formControlName="productStock"
            required
            class="form-control"
            id="productStock"
            name="productStock"
          />
          <mat-error
            *ngIf="
              productForm.get('productStock')?.invalid &&
              productForm.get('productStock')?.touched
            "
          >
            Product Quantity is required.
          </mat-error>
        </div>

        <mat-form-field class="example-full-width w-100 bg-light">
          <mat-label>Product Category</mat-label>
          <input
            type="text"
            placeholder="Pick one"
            aria-label="Number"
            matInput
            [matAutocomplete]="auto"
            formControlName="categoryId"
            [formControl]="myControl"
            name="categoryId"
          />
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option
              *ngFor="let category of filteredOptions | async"
              [value]="category.id"
              >{{ category.type }}</mat-option
            >
          </mat-autocomplete>
        </mat-form-field>
        <mat-error
          *ngIf="
            productForm.get('categoryId')?.invalid &&
            productForm.get('categoryId')?.touched
          "
        >
          Category is required.
        </mat-error>
        <div>
          <input type="radio" formControlName="productType" value="new" />New
          <input type="radio" formControlName="productType" value="old" />Old
        </div>

        <button type="submit" class="btn btn-success">Submit</button>
      </div>

      <div class="success-box" *ngIf="submitted">
        <h4>Product Added successfully!</h4>
        <button class="btn btn-success" (click)="newProduct()">Add</button>
      </div>
    </form>
  </div>
</div>
